"use strict";(self["webpackChunktp4"]=self["webpackChunktp4"]||[]).push([[532],{5532:function(e,t,i){i.r(t),i.d(t,{default:function(){return A}});var s=i(6768),o=i(5130);const n=e=>((0,s.Qi)("data-v-add65736"),e=e(),(0,s.jt)(),e),r={class:"kll"},a={class:"form-container"},p=n((()=>(0,s.Lk)("h2",null,"Edit Recipe",-1))),l={class:"form-group"},d=n((()=>(0,s.Lk)("label",{for:"title"},"Title:",-1))),u={class:"form-group"},m=n((()=>(0,s.Lk)("label",{for:"description"},"Description:",-1))),c={class:"form-group"},g=n((()=>(0,s.Lk)("label",{for:"ingredients"},"Ingredients:",-1))),k={class:"form-group"},b=n((()=>(0,s.Lk)("label",{for:"instructions"},"Instructions:",-1))),L={class:"form-group"},f=n((()=>(0,s.Lk)("label",{for:"temps_preparation"},"Preparation Time (minutes):",-1))),h={class:"form-group"},_=n((()=>(0,s.Lk)("label",{for:"temps_cuisson"},"Cooking Time (minutes):",-1))),v={class:"form-group"},y=n((()=>(0,s.Lk)("label",{for:"regime"},"Regime:",-1))),q={class:"form-group"},J=n((()=>(0,s.Lk)("label",{for:"portions"},"Portions:",-1))),U={class:"form-group"},V=n((()=>(0,s.Lk)("label",{for:"tags"},"Tags (Separate with ','):",-1))),R={class:"op"},x=n((()=>(0,s.Lk)("button",{type:"submit",class:"btn-submit"},"Modify",-1))),w=n((()=>(0,s.Lk)("button",null,"Return",-1)));function E(e,t,i,n,E,j){const C=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",a,[p,(0,s.Lk)("form",{id:"recipeForm",onSubmit:t[9]||(t[9]=(0,o.D$)(((...e)=>j.modifyRecipe&&j.modifyRecipe(...e)),["prevent"]))},[(0,s.Lk)("div",l,[d,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>E.title=e),type:"text",id:"title",name:"title",required:""},null,512),[[o.Jo,E.title]])]),(0,s.Lk)("div",u,[m,(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>E.description=e),id:"description",name:"description",required:""},null,512),[[o.Jo,E.description]])]),(0,s.Lk)("div",c,[g,(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>E.ingredients=e),id:"ingredients",name:"ingredients",required:""},null,512),[[o.Jo,E.ingredients]])]),(0,s.Lk)("div",k,[b,(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>E.instructions=e),id:"instructions",name:"instructions",required:""},null,512),[[o.Jo,E.instructions]])]),(0,s.Lk)("div",L,[f,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>E.temps_preparation=e),type:"number",id:"temps_preparation",name:"temps_preparation",required:""},null,512),[[o.Jo,E.temps_preparation,void 0,{number:!0}]])]),(0,s.Lk)("div",h,[_,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>E.temps_cuisson=e),type:"number",id:"temps_cuisson",name:"temps_cuisson",required:""},null,512),[[o.Jo,E.temps_cuisson,void 0,{number:!0}]])]),(0,s.Lk)("div",v,[y,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>E.regime=e),type:"text",id:"regime",name:"regime",required:""},null,512),[[o.Jo,E.regime]])]),(0,s.Lk)("div",q,[J,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>E.portions=e),type:"number",id:"portions",name:"portions",required:""},null,512),[[o.Jo,E.portions,void 0,{number:!0}]])]),(0,s.Lk)("div",U,[V,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>E.tags=e),type:"text",id:"tags",name:"tags",required:""},null,512),[[o.Jo,E.tags]])]),(0,s.Lk)("div",R,[x,(0,s.bF)(C,{to:"/"},{default:(0,s.k6)((()=>[w])),_:1})])],32)])])}var j=i(5251),C=i(6747),T={name:"RecipeEdit",props:["id"],data(){return{title:"",description:"",ingredients:"",instructions:"",temps_preparation:null,temps_cuisson:null,regime:"",portions:null,tags:""}},async mounted(){try{const e=await(0,C.A)(this.id);this.title=e.title,this.description=e.description,this.ingredients=e.ingredients.join(", "),this.instructions=e.instructions.join("\n"),this.temps_preparation=e.temps_preparation,this.temps_cuisson=e.temps_cuisson,this.regime=e.regime,this.portions=e.portions,this.tags=e.tags.join(", ")}catch(e){console.error("Error:",e)}},methods:{async modifyRecipe(){const e=this.ingredients.trim().split(/\s*,\s*/),t=this.tags.trim().split(/\s*,\s*/),i={title:this.title,description:this.description,ingredients:e,instructions:this.instructions.split("\n"),temps_preparation:this.temps_preparation,temps_cuisson:this.temps_cuisson,regime:this.regime,portions:this.portions,tags:t};try{await j.$.collection("recipes").doc(this.id).update(i),console.log("Recipe successfully updated!")}catch(s){console.error("Error updating recipe:",s),alert("Failed to update recipe: "+s.message)}}}},F=i(1241);const I=(0,F.A)(T,[["render",E],["__scopeId","data-v-add65736"]]);var A=I}}]);
//# sourceMappingURL=532.ce8af0bc.js.map